<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Resource Hub – Split View</title>
<style>
:root{--accent:#0049b0;--bg:#f7f9fc;--card:#fff;--muted:#64748b;--ink:#0f172a;}
body{margin:0;background:var(--bg);color:var(--ink);font:15px/1.6 system-ui;}
header{background:var(--accent);color:#fff;padding:14px 24px;font-weight:700;}
#layout{display:flex;flex-wrap:wrap;gap:1rem;padding:1rem;}
aside{flex:1 1 250px;max-width:300px;background:var(--card);border-radius:10px;padding:1rem;box-shadow:0 2px 8px rgba(0,0,0,0.06);}
main{flex:3 1 600px;min-width:300px;}
.group{background:var(--card);border-radius:10px;margin-bottom:1rem;padding:1rem;box-shadow:0 2px 8px rgba(0,0,0,0.06);}
a{color:var(--accent);text-decoration:none;font-weight:600;}
a:hover{text-decoration:underline;}
</style>
</head>
<body>
<header>Resource Hub Dashboard</header>
<div id="layout">
  <aside>
    <h3>Your Top Links</h3>
    <ul id="top"></ul>
  </aside>
  <main id="container"></main>
</div>
<script>
let clicks=JSON.parse(localStorage.getItem('hub.clicks')||'{}');
fetch('links.json').then(r=>r.json()).then(d=>{
 const container=document.getElementById('container');
 const all=d.groups.flatMap(g=>g.items);
 render();
 function render(){
   container.innerHTML=d.groups.map(g=>`
     <div class="group">
       <h3>${g.title}</h3>
       <ul>${g.items.map(i=>`<li><a href="${i.url}" target="_blank">${i.title}</a> – ${i.notes||''}</li>`).join('')}</ul>
     </div>`).join('');
   updateTop();
   container.querySelectorAll('a').forEach(a=>{
     a.onclick=()=>{const t=a.textContent.trim();clicks[t]=(clicks[t]||0)+1;localStorage.setItem('hub.clicks',JSON.stringify(clicks));updateTop();};
   });
 }
 function updateTop(){
   const sorted=Object.entries(clicks).sort((a,b)=>b[1]-a[1]).slice(0,5);
   document.getElementById('top').innerHTML=sorted.length?sorted.map(([t,c])=>`<li>${t} (${c})</li>`).join(''):'<li>No data yet</li>';
 }
});
</script>
</body>
</html>
