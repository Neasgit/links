<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Resource Hub â€“ Card View</title>
<link rel="icon" href="https://www.ionos.co.uk/favicon.ico" />
<style>
:root {
  --bg:#f6f9fc;
  --ink:#0f172a;
  --card:#fff;
  --accent:#0049b0;
  --muted:#64748b;
  --radius:14px;
  --shadow:0 4px 12px rgba(0,0,0,0.06);
}
body.dark {
  --bg:#0b1224;
  --ink:#e2e8f0;
  --card:#141c33;
  --accent:#0098db;
  --muted:#94a3b8;
  --shadow:0 4px 16px rgba(0,0,0,0.4);
}
body {
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font:15px/1.6 system-ui,-apple-system,Segoe UI,Inter,Roboto;
  transition:background .3s,color .3s;
}
header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:16px 24px;
}
input[type=search] {
  width:260px;
  padding:8px 12px;
  border-radius:8px;
  border:none;
  background:#fff;
  box-shadow:var(--shadow);
  font-size:14px;
}
button {
  border:none;
  border-radius:8px;
  background:var(--accent);
  color:#fff;
  font-weight:600;
  padding:8px 14px;
  cursor:pointer;
}
main {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:18px;
  padding:24px;
}
.card {
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:18px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  transition:transform .15s, box-shadow .3s;
}
.card:hover {
  transform:translateY(-4px);
  box-shadow:0 6px 18px rgba(0,0,0,0.1);
}
.card a {
  text-decoration:none;
  color:var(--ink);
  font-weight:700;
  margin-bottom:8px;
}
.card small {
  color:var(--muted);
}
.pill {
  align-self:flex-start;
  padding:3px 8px;
  border-radius:999px;
  font-size:12px;
  margin-top:10px;
  font-weight:600;
}
.pill.int { background:#fee2e2;color:#7f1d1d; }
.pill.ext { background:#dcfce7;color:#065f46; }
body.dark .pill.int { background:#3c1c1c;color:#fca5a5; }
body.dark .pill.ext { background:#133a26;color:#86efac; }

@media (max-width:600px) {
  header { flex-direction:column; gap:10px; }
  input[type=search]{ width:100%; }
}
</style>
</head>
<body>
<header>
  <h1>Resource Hub</h1>
  <div>
    <input id="q" type="search" placeholder="Search links...">
    <button id="themeToggle">Toggle theme</button>
  </div>
</header>
<main id="container"></main>

<script>
let dark = false;
const themeBtn=document.getElementById('themeToggle');
themeBtn.onclick=()=>{dark=!dark;document.body.classList.toggle('dark',dark);};
fetch('links.json').then(r=>r.json()).then(data=>{
  const container=document.getElementById('container');
  const qEl=document.getElementById('q');
  function render(){
    const q=(qEl.value||'').toLowerCase();
    const items=data.groups.flatMap(g=>g.items).filter(i=>
      !q || i.title.toLowerCase().includes(q) || (i.notes||'').toLowerCase().includes(q)
    );
    container.innerHTML=items.map(i=>`
      <div class="card">
        <a href="${i.url}" target="_blank">${i.title}</a>
        <small>${i.notes||''}</small>
        <span class="pill ${i.vis==='internal'?'int':'ext'}">${i.vis}</span>
      </div>`).join('');
  }
  qEl.addEventListener('input',render);
  render();
});
</script>
</body>
</html>
